@(viewCenter: (Double, Double) , mapZoom: Double, regionDensityList1: List[((Double, Double, Double, Double), Double)], regionDensityList2: List[((Double, Double, Double, Double), Double)], regionDensityList3: List[((Double, Double, Double, Double), Float)])(nbSet:Int, sets:List[(Int, String, Int)], inters:List[((Int, Int), Int)])

@header("Crosstalk - Standard results and Venn")

	<div style="height:700px;">
      <div id="map" style="height:700px;float:left;width:85%;">
        <script type="text/javascript" src="@routes.Assets.at("javascripts/tweetagg.js")"></script>
        <script>
		window.onload = function() {
			document.getElementsByClassName("main_content")[0].style.margin =  (0 + "px");
			
			var viewCenter = {lon: @viewCenter._1, lat: @viewCenter._2}
	        console.log(JSON.stringify(viewCenter))
	        
	        var regions = [ @for(region <- regionDensityList3){ [{lon: @region._1._1, lat: @region._1._2}, {lon: @region._1._3, lat: @region._1._4}, @region._2], } ]
	        
	        console.log("in html: "+regions.length)
	        mapReCenter(viewCenter, @mapZoom)
	        showRegionIntesity(regions)
		}
        </script>

      </div>
      <div style="float:right;height:85%;width:14.5%;padding-left:5px;margin-top:20px;">
      @helper.form(action = routes.Gathering.refreshVenn){
     	<input type="hidden" name="focussed" id="focussed" value="">
      	<input type="hidden" name="viewCenter" id="viewCenter" value="">
      	<input type="hidden" name="zoomLevel" id="zoomLevel" value="">
      	<button>Refresh</button>
      }
        @venn(nbSet, sets, inters)
      </div>
   </div>
        
@footer()